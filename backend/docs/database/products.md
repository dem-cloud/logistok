# ğŸ—‚ Table: products

---

Î‘Î½Ï„Î¹Ï€ÏÎ¿ÏƒÏ‰Ï€ÎµÏÎµÎ¹ Ï„Î¿ **Î²Î±ÏƒÎ¹ÎºÏŒ Ï€ÏÎ¿ÏŠÏŒÎ½** Î¼Î¹Î±Ï‚ ÎµÏ„Î±Î¹ÏÎµÎ¯Î±Ï‚, Ï‡Ï‰ÏÎ¯Ï‚ Î½Î± Ï€ÎµÏÎ¹Î»Î±Î¼Î²Î¬Î½ÎµÎ¹ Î±ÎºÏŒÎ¼Î· Ï„Î¹Ï‚ Ï€Î±ÏÎ±Î»Î»Î±Î³Î­Ï‚ Ï„Î¿Ï… (variants).  
ÎšÎ¬Î¸Îµ product ÎµÎ¯Î½Î±Î¹ Î­Î½Î±Ï‚ â€œÏ„Î¯Ï„Î»Î¿Ï‚â€/â€œSKU groupâ€ ÎºÎ±Î¹ Î¿Î¹ Ï€ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÎ­Ï‚ Î¼Î¿Î½Î¬Î´ÎµÏ‚ Ï€ÏÎ¿Ï‚ Ï€ÏÎ»Î·ÏƒÎ·/Î±Î³Î¿ÏÎ¬/stock Î²ÏÎ¯ÏƒÎºÎ¿Î½Ï„Î±Î¹ ÏƒÏ„Î¿Î½ Ï€Î¯Î½Î±ÎºÎ± `product_variants`.

Î¤Î± products Î±Ï€Î¿Î¸Î·ÎºÎµÏÎ¿Ï…Î½ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ Ï€Î¿Ï… ÎµÎ¯Î½Î±Î¹ ÎºÎ¿Î¹Î½Î­Ï‚ Î³Î¹Î± ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ Ï€Î±ÏÎ±Î»Î»Î±Î³Î­Ï‚: ÏŒÎ½Î¿Î¼Î±, Ï€ÎµÏÎ¹Î³ÏÎ±Ï†Î®, ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±, Ï†Ï‰Ï„Î¿Î³ÏÎ±Ï†Î¯ÎµÏ‚, default settings.

**Works with:**
- `companies` â†’ Î· ÎµÏ„Î±Î¹ÏÎµÎ¯Î± ÏƒÏ„Î·Î½ Î¿Ï€Î¿Î¯Î± Î±Î½Î®ÎºÎµÎ¹ Ï„Î¿ Ï€ÏÎ¿ÏŠÏŒÎ½
- `product_categories` â†’ Ï€ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÎ® ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î± Ï€ÏÎ¿ÏŠÏŒÎ½Ï„Î¿Ï‚
- `product_variants` â†’ Î¿Î¹ Ï€Î±ÏÎ±Î»Î»Î±Î³Î­Ï‚ Ï„Î¿Ï… Ï€ÏÎ¿ÏŠÏŒÎ½Ï„Î¿Ï‚ (ÎºÎ¬Î¸Îµ Ï€ÏÎ¿ÏŠÏŒÎ½ Î­Ï‡ÎµÎ¹ Ï„Î¿Ï…Î»Î¬Ï‡Î¹ÏƒÏ„Î¿Î½ 1)
- `store_products` (Î­Î¼Î¼ÎµÏƒÎ±) â†’ stock Î±Î½Î¬ store ÎºÎ±Ï„Î±Î³ÏÎ¬Ï†ÎµÏ„Î±Î¹ ÏƒÎµ variants
- `sale_items` / `purchase_items` (Î­Î¼Î¼ÎµÏƒÎ±) â†’ Ï„Î± items Î±Î½Î±Ï†Î­ÏÎ¿Î½Ï„Î±Î¹ ÏƒÎµ variants Ï€Î¿Ï… Î±Î½Î®ÎºÎ¿Ï…Î½ ÏƒÎµ Î±Ï…Ï„ÏŒ Ï„Î¿ product
- `stock_movements` (Î­Î¼Î¼ÎµÏƒÎ±) â†’ ÎºÎ¹Î½Î®ÏƒÎµÎ¹Ï‚ Î±Ï€Î¿Î¸Î­Î¼Î±Ï„Î¿Ï‚ Î³Î¹Î± variants Ï„Î¿Ï… Ï€ÏÎ¿ÏŠÏŒÎ½Ï„Î¿Ï‚
- `plugins` (Î­Î¼Î¼ÎµÏƒÎ±) â†’ plugins Î¼Ï€Î¿ÏÎ¿ÏÎ½ Î½Î± Ï€ÏÎ¿ÏƒÎ¸Î­Ï„Î¿Ï…Î½ custom product fields (Ï€.Ï‡. ÎºÎ±ÏÏƒÎ¹Î¼Î¿ Î¼Îµ Î¿ÎºÏ„Î¬Î½Î¹Î±, ÏÎ¿ÏÏ‡Î¿ Î¼Îµ brand)

Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ Î³Î¹Î±:
- ÎºÎ±Ï„Î±Î»Î¿Î³Î¿Ï€Î¿Î¯Î·ÏƒÎ· Ï€ÏÎ¿ÏŠÏŒÎ½Ï„Ï‰Î½,
- Î¿ÏÎ³Î¬Î½Ï‰ÏƒÎ· POS,
- Ï†Î¹Î»Ï„ÏÎ¬ÏÎ¹ÏƒÎ¼Î± ÎºÎ±Î¹ Î±Î½Î±Î¶Î®Ï„Î·ÏƒÎ· (ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±, tags Îº.Î»Ï€.),
- grouping variants,
- Ï€Î±ÏÎ¿Ï…ÏƒÎ¯Î±ÏƒÎ· Ï€ÏÎ¿ÏŠÏŒÎ½Ï„Î¿Ï‚ ÏƒÏ„Î¿ UI ÎºÎ±Î¹ ÏƒÏ„Î¿ marketplace.

ÎŸ Ï€Î¯Î½Î±ÎºÎ±Ï‚ `products` ÎµÎ¯Î½Î±Î¹ Î³ÎµÎ½Î¹ÎºÏŒÏ‚ ÎºÎ±Î¹ Î´ÎµÎ½ Î±Î³Î³Î¯Î¶ÎµÎ¹ stock Î® Ï„Î¹Î¼Î­Ï‚ â€” Î±Ï…Ï„Î¬ Î±Î½Î®ÎºÎ¿Ï…Î½ Î±Ï€Î¿ÎºÎ»ÎµÎ¹ÏƒÏ„Î¹ÎºÎ¬ ÏƒÏ„Î± `product_variants`.

---

## ğŸ“Œ 1. Fields Definition

| Field | Type | Null | Default | Description |
|--------|----------|------|-----------|-------------|
| id (PK) | INT | NOT NULL | AUTO-INCREMENT | Unique product identifier |
| company_id (FK) | UUID | NOT NULL | â€” | References companies(id). Product belongs to a company |
| product_category_id (FK) | INT | NULL | â€” | References product_categories(id) |
| name | TEXT | NOT NULL | â€” | Product name |
| description | TEXT | NULL | â€” | Product description |
| unit_id (FK) | INT | NULL | â€” | References units(id). Default unit of measurement |
| created_at | TIMESTAMP | NOT NULL | NOW() | Creation timestamp |

---

## â„¹ï¸ Notes

- Î¤Î¿ `metadata` ÎµÎ¯Î½Î±Î¹ Ï‡ÏÎ®ÏƒÎ¹Î¼Î¿ Î³Î¹Î± plugins (fuel octane, clothing brand, construction material type, ÎºÏ„Î».)
- Î— Ï€Î¿ÏƒÏŒÏ„Î·Ï„Î± Î±Ï€Î¿Î¸Î®ÎºÎ·Ï‚ **Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ ÎµÎ´Ï** â†’ ÎµÎ¯Î½Î±Î¹ ÏƒÏ„Î¿ `store_products`.

---

## ğŸ“Œ 2. Example Rows

| id | company_id | product_category_id | name                      | description                 | unit_id | created_at          |
| -- | ---------- | ------------------- | ------------------------- | --------------------------- | ------- | ------------------- |
| 10 | comp-1111  | 1                   | Î†Î¼Î¼Î¿Ï‚ ÎœÏ€ÎµÏ„Î¿Ï            | Î§ÏÎ¼Î± Î® ÏƒÎµ ÏƒÎ±ÎºÎ¿Ï…Î»Î¬ÎºÎ¹Î±      | 3       | 2025-01-01 09:00:00 |
| 20 | comp-1111  | 5                   | T-Shirt                 | Î’Î±Î¼Î²Î±ÎºÎµÏÏŒ, Î´Î¹Î¬Ï†Î¿ÏÎ± Î¼ÎµÎ³Î­Î¸Î· | 1       | 2025-01-01 09:00:10 |
| 21 | comp-1111  | 6                   | ÎœÏ€Î¿Î³Î¹Î¬ Î•Î¾Ï‰Ï„ÎµÏÎ¹ÎºÎ¿Ï Î§ÏÏÎ¿Ï… | Î§ÏÏÎ¼Î± ÎµÎ¾Ï‰Ï„ÎµÏÎ¹ÎºÎ®Ï‚ Ï‡ÏÎ®ÏƒÎ·Ï‚   | 2       | 2025-01-01 09:00:20 |
| 22 | comp-2222  | NULL                | Î•Î»Î±Î¹ÏŒÎ»Î±Î´Î¿               | NULL                        | 4       | 2025-01-01 09:00:30 |

---

## ğŸ“Œ 3. SQL: CREATE TABLE (Supabase)

```sql
CREATE TABLE products (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,

  company_id UUID NOT NULL REFERENCES companies(id) ON DELETE CASCADE,
  product_category_id BIGINT NULL REFERENCES product_categories(id) ON DELETE SET NULL,

  name TEXT NOT NULL,
  description TEXT NULL,

  unit_id BIGINT NULL REFERENCES units(id) ON DELETE SET NULL,

  created_at TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE UNIQUE INDEX products_unique_company_name
ON products (company_id, name);

CREATE INDEX idx_products_company_id ON products(company_id);
CREATE INDEX idx_products_category_id ON products(product_category_id);
CREATE INDEX idx_products_is_active ON products(company_id, is_active); --?
```

---

## ğŸ“Œ 4. SQL: Insert Demo Data

```sql
INSERT INTO products
  (company_id, product_category_id, name, description, unit_id)
VALUES
  -- Construction materials example
  (
    'comp-1111',
    1,
    'Î†Î¼Î¼Î¿Ï‚ ÎœÏ€ÎµÏ„Î¿Ï',
    'Î§ÏÎ¼Î± Î® ÏƒÎµ ÏƒÎ±ÎºÎ¿Ï…Î»Î¬ÎºÎ¹Î±',
    3
  ),

  -- Clothing item
  (
    'comp-1111',
    5,
    'T-Shirt',
    'Î’Î±Î¼Î²Î±ÎºÎµÏÏŒ, Î´Î¹Î¬Ï†Î¿ÏÎ± Î¼ÎµÎ³Î­Î¸Î·',
    1
  ),

  -- Paint
  (
    'comp-1111',
    6,
    'ÎœÏ€Î¿Î³Î¹Î¬ Î•Î¾Ï‰Ï„ÎµÏÎ¹ÎºÎ¿Ï Î§ÏÏÎ¿Ï…',
    'Î§ÏÏÎ¼Î± ÎµÎ¾Ï‰Ï„ÎµÏÎ¹ÎºÎ®Ï‚ Ï‡ÏÎ®ÏƒÎ·Ï‚',
    2
  ),

  -- Food product without category
  (
    'comp-2222',
    NULL,
    'Î•Î»Î±Î¹ÏŒÎ»Î±Î´Î¿',
    NULL,
    4
  );
~~~~```