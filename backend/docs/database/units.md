# ðŸ—‚ Table: units

---

Î‘Î½Ï„Î¹Ï€ÏÎ¿ÏƒÏ‰Ï€ÎµÏÎµÎ¹ Ï„Î¹Ï‚ **Î¼Î¿Î½Î¬Î´ÎµÏ‚ Î¼Î­Ï„ÏÎ·ÏƒÎ·Ï‚** Ï€Î¿Ï… Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯ Î¼Î¹Î± ÎµÏ„Î±Î¹ÏÎµÎ¯Î± Î³Î¹Î± Ï„Î± Ï€ÏÎ¿ÏŠÏŒÎ½Ï„Î± Ï„Î·Ï‚ (Ï€.Ï‡. Ï„ÎµÎ¼Î¬Ï‡Î¹Î±, ÎºÎ¹Î»Î¬, Î»Î¯Ï„ÏÎ±, 25kg sack, Ï€Î±Î»Î­Ï„Î±, Ï„ÏŒÎ½Î¿Ï‚, Î¼Î­Ï„ÏÎ¿).  
ÎŸÎ¹ Î¼Î¿Î½Î¬Î´ÎµÏ‚ ÎµÎ¯Î½Î±Î¹ **company-specific**, ÏŽÏƒÏ„Îµ ÎºÎ¬Î¸Îµ ÎµÏ„Î±Î¹ÏÎµÎ¯Î± Î½Î± Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î¿ÏÎ¯ÏƒÎµÎ¹ Ï„Î¹Ï‚ Î´Î¹ÎºÎ­Ï‚ Ï„Î·Ï‚ custom Î¼Î¿Î½Î¬Î´ÎµÏ‚, ÎµÎ¹Î´Î¹ÎºÎ¬ ÏŒÏ„Î±Î½ Ï„Î± plugins Î±Ï€Î±Î¹Ï„Î¿ÏÎ½ ÎµÎ¾ÎµÎ¹Î´Î¹ÎºÎµÏ…Î¼Î­Î½Î± units (Ï€.Ï‡. ÎºÎ±ÏÏƒÎ¹Î¼Î± ÏƒÎµ Î»Î¯Ï„ÏÎ±).

ÎŸÎ¹ units Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î¿ÏÎ½Ï„Î±Î¹ ÎºÏ…ÏÎ¯Ï‰Ï‚ ÏƒÏ„Î± product variants.

**Works with:**
- `companies` â†’ Î· ÎµÏ„Î±Î¹ÏÎµÎ¯Î± ÏƒÏ„Î·Î½ Î¿Ï€Î¿Î¯Î± Î±Î½Î®ÎºÎµÎ¹ Î· Î¼Î¿Î½Î¬Î´Î±
- `product_variants` â†’ ÎºÎ¬Î¸Îµ variant Î­Ï‡ÎµÎ¹ 1 Î¼Î¿Î½Î¬Î´Î± Î¼Î­Ï„ÏÎ·ÏƒÎ·Ï‚
- `purchase_items` â†’ Î¿Î¹ Ï€Î¿ÏƒÏŒÏ„Î·Ï„ÎµÏ‚ Î±Î³Î¿ÏÎ¬Ï‚ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î¿ÏÎ½ Ï„Î· Î¼Î¿Î½Î¬Î´Î± Ï„Î¿Ï… variant
- `sale_items` â†’ Î¿Î¹ Ï€Î¿ÏƒÏŒÏ„Î·Ï„ÎµÏ‚ Ï€ÏŽÎ»Î·ÏƒÎ·Ï‚ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î¿ÏÎ½ Ï„Î· Î¼Î¿Î½Î¬Î´Î± Ï„Î¿Ï… variant
- `stock_movements` â†’ Î¿Î¹ ÎºÎ¹Î½Î®ÏƒÎµÎ¹Ï‚ Î±Ï€Î¿Î¸Î­Î¼Î±Ï„Î¿Ï‚ Î³Î¯Î½Î¿Î½Ï„Î±Î¹ ÏƒÏ„Î· Î¼Î¿Î½Î¬Î´Î± Ï„Î¿Ï… variant
- `plugins` (Î­Î¼Î¼ÎµÏƒÎ±) â†’ plugins Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Ï€ÏÎ¿ÏƒÎ¸Î­Ï„Î¿Ï…Î½ ÎµÎ¹Î´Î¹ÎºÎ­Ï‚ Î¼Î¿Î½Î¬Î´ÎµÏ‚ (Ï€.Ï‡. fuel liters, construction bags)

Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ Î³Î¹Î±:
- Î¿ÏÎ¹ÏƒÎ¼ÏŒ custom Î¼Î¿Î½Î¬Î´Ï‰Î½ Î¼Î­Ï„ÏÎ·ÏƒÎ·Ï‚ Î±Î½Î¬ ÎµÏ„Î±Î¹ÏÎµÎ¯Î±,
- Ï†Î¹Î»Ï„ÏÎ¬ÏÎ¹ÏƒÎ¼Î± & ÎµÎ¼Ï†Î¬Î½Î¹ÏƒÎ· Ï€Î¿ÏƒÏŒÏ„Î·Ï„Î±Ï‚ ÏƒÎµ POS / Î±Ï€Î¿Î¸Î®ÎºÎ·,
- Î±Ï€Î¿Ï†Ï…Î³Î® ÏƒÏ†Î±Î»Î¼Î¬Ï„Ï‰Î½ ÎºÎ±Ï„Î±Ï‡ÏŽÏÎ·ÏƒÎ·Ï‚ (Ï€.Ï‡. Î±Î½Î¬Î¼ÎµÎ¹Î¾Î· â€œkgâ€ Î¼Îµ â€œÏ„ÎµÎ¼Î¬Ï‡Î¹Î±â€),
- ÎµÎ¾ÎµÎ¹Î´Î¹ÎºÎµÏ…Î¼Î­Î½ÎµÏ‚ Î¼Î¿Î½Î¬Î´ÎµÏ‚ Î³Î¹Î± ÎºÎ»Î¬Î´Î¿Ï…Ï‚ (Ï€.Ï‡. big bag, ton, pallet),
- plugin-level unit definitions.

ÎŸ Ï€Î¯Î½Î±ÎºÎ±Ï‚ units Î±Ï€Î¿Ï„ÎµÎ»ÎµÎ¯ Ï„Î¿ foundational ÎºÎ¿Î¼Î¼Î¬Ï„Î¹ Î³Î¹Î± **ÏƒÏ‰ÏƒÏ„Î® Ï€Î¿ÏƒÎ¿Ï„Î¹ÎºÎ® Î´Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ·** Ï„Ï‰Î½ Ï€ÏÎ¿ÏŠÏŒÎ½Ï„Ï‰Î½.

---

## ðŸ“Œ 1. Fields Definition

| Field | Type | Null | Default | Description |
|--------|-----------|------|-----------|-------------|
| id (PK) |	BIGINT |	NOT NULL	| identity |	Unique unit identifier |
| unit_key	| TEXT	| NOT NULL	| â€”	| Technical unique key (e.g., "kg", "pcs", "lt") |
| name_singular	| TEXT	| NOT NULL	| â€”	| Singular name (Ï€.Ï‡. â€œÎšÎ¹Î»ÏŒâ€, â€œÎ¤ÎµÎ¼Î¬Ï‡Î¹Î¿â€) |
| name_plural	| TEXT	| NOT NULL	| â€”	| Plural name (Ï€.Ï‡. â€œÎšÎ¹Î»Î¬â€, â€œÎ¤ÎµÎ¼Î¬Ï‡Î¹Î±â€) |
| symbol	| TEXT	| NULL	| â€”	| Short symbol used in UI (â€œkgâ€, â€œpcsâ€, â€œltâ€) |
| description	| TEXT	| NULL	| â€”	| Extra info about the unit |
| decimals	| SMALLINT	| NOT NULL	| 2	| How many decimal places this unit supports |
| is_system | BOOLEAN | NOT NULL | FALSE | System unit true, plugin unit false |
| added_by_plugin_key	| TEXT	| NULL	| â€”	| If created by a plugin â†’ plugin key, else NULL |
| created_at	| TIMESTAMP	| NOT NULL	| NOW()	| Timestamp |

---

## â„¹ï¸ Notes

- Units are used in **products**, **product_variants**, **purchases**, **sales**, and **stock_movements**.
- Units can be:
  - **Global** (system units available to all companies)
  - **Custom** (specific to a plugin)
- Custom units allow vertical industries (construction, fuel, agriculture) to create units like:
  - â€œtonâ€, â€œyardâ€, â€œbucketâ€, â€œpaletteâ€, â€œbarrelâ€, â€œsack 25kgâ€, â€œsack 40kgâ€

---

## ðŸ“Œ 2. Example Rows

| id | unit_key   | name_singular  | name_plural    | symbol | description            | decimals | is_system | added_by_plugin_key | created_at          |
| -- | ---------- | -------------- | -------------- | ------ | ---------------------- | -------- | --------- | ------------------- | ------------------- |
| 1  | kg         | ÎšÎ¹Î»ÏŒ           | ÎšÎ¹Î»Î¬           | kg     | ÎœÎ¿Î½Î¬Î´Î± Î²Î¬ÏÎ¿Ï…Ï‚          | 2        | TRUE      | NULL                | 2025-01-01 10:00:00 |
| 2  | pcs        | Î¤ÎµÎ¼Î¬Ï‡Î¹Î¿        | Î¤ÎµÎ¼Î¬Ï‡Î¹Î±        | pcs    | Î’Î±ÏƒÎ¹ÎºÎ® Î¼Î¿Î½Î¬Î´Î± Ï„ÎµÎ¼Î±Ï‡Î¯Ï‰Î½ | 0        | TRUE      | NULL                | 2025-01-01 10:00:01 |
| 3  | lt         | Î›Î¯Ï„ÏÎ¿          | Î›Î¯Ï„ÏÎ±          | lt     | ÎœÎ¿Î½Î¬Î´Î± ÏŒÎ³ÎºÎ¿Ï…           | 3        | TRUE      | NULL                | 2025-01-01 10:00:02 |
| 4  | ton        | Î¤ÏŒÎ½Î¿Ï‚          | Î¤ÏŒÎ½Î¿Î¹          | tn     | Î“Î¹Î± Î²Î±ÏÎ¹Î¬ Ï…Î»Î¹ÎºÎ¬        | 3        | TRUE      | NULL                | 2025-01-01 10:00:03 |
| 5  | fuel_liter | Î›Î¯Ï„ÏÎ¿ ÎšÎ±Ï…ÏƒÎ¯Î¼Î¿Ï… | Î›Î¯Ï„ÏÎ± ÎšÎ±Ï…ÏƒÎ¯Î¼Î¿Ï… | L      | Î“Î¹Î± Ï€ÏÎ±Ï„Î®ÏÎ¹Î± ÎºÎ±Ï…ÏƒÎ¯Î¼Ï‰Î½  | 3        | FALSE     | gas_station        | 2025-01-01 10:00:04 |
| 6  | roll       | Î¡Î¿Î»ÏŒ           | Î¡Î¿Î»Î¬           | rl     | Î“Î¹Î± Ï…Î»Î¹ÎºÎ¬ ÏƒÏ…ÏƒÎºÎµÏ…Î±ÏƒÎ¯Î±Ï‚  | 0        | FALSE     | packaging           | 2025-01-01 10:00:05 |

---

## ðŸ“Œ 3. SQL: CREATE TABLE (Supabase)

```sql
CREATE TABLE units (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,

  unit_key TEXT NOT NULL UNIQUE,

  name_singular TEXT NOT NULL,
  name_plural TEXT NOT NULL,

  symbol TEXT NULL,
  description TEXT NULL,

  is_system BOOLEAN DEFAULT FALSE,
  added_by_plugin_key TEXT NULL,

  decimals SMALLINT NOT NULL DEFAULT 2 CHECK (decimals >= 0 AND decimals <= 6),

  created_at TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_units_is_system ON units(is_system);
```

---

## ðŸ“Œ 4. SQL: Insert Demo Data

```sql
INSERT INTO units
  (unit_key, name_singular, name_plural, symbol, description, decimals, is_system, added_by_plugin_key)
VALUES
  -- System units
  ('kg', 'ÎšÎ¹Î»ÏŒ', 'ÎšÎ¹Î»Î¬', 'kg', 'ÎœÎ¿Î½Î¬Î´Î± Î²Î¬ÏÎ¿Ï…Ï‚', 2, TRUE, NULL),
  ('pcs', 'Î¤ÎµÎ¼Î¬Ï‡Î¹Î¿', 'Î¤ÎµÎ¼Î¬Ï‡Î¹Î±', 'pcs', 'Î’Î±ÏƒÎ¹ÎºÎ® Î¼Î¿Î½Î¬Î´Î± Ï„ÎµÎ¼Î±Ï‡Î¯Ï‰Î½', 0, TRUE, NULL),
  ('lt', 'Î›Î¯Ï„ÏÎ¿', 'Î›Î¯Ï„ÏÎ±', 'lt', 'ÎœÎ¿Î½Î¬Î´Î± ÏŒÎ³ÎºÎ¿Ï…', 3, TRUE, NULL),
  ('ton', 'Î¤ÏŒÎ½Î¿Ï‚', 'Î¤ÏŒÎ½Î¿Î¹', 'tn', 'Î“Î¹Î± Î²Î±ÏÎ¹Î¬ Ï…Î»Î¹ÎºÎ¬', 3, TRUE, NULL),

  -- Plugin-created units
  ('fuel_liter', 'Î›Î¯Ï„ÏÎ¿ ÎšÎ±Ï…ÏƒÎ¯Î¼Î¿Ï…', 'Î›Î¯Ï„ÏÎ± ÎšÎ±Ï…ÏƒÎ¯Î¼Î¿Ï…', 'L', 'Î“Î¹Î± Ï€ÏÎ±Ï„Î®ÏÎ¹Î± ÎºÎ±Ï…ÏƒÎ¯Î¼Ï‰Î½', 3, FALSE, 'fuel_station'),
  ('roll', 'Î¡Î¿Î»ÏŒ', 'Î¡Î¿Î»Î¬', 'rl', 'Î“Î¹Î± Ï…Î»Î¹ÎºÎ¬ ÏƒÏ…ÏƒÎºÎµÏ…Î±ÏƒÎ¯Î±Ï‚', 0, FALSE, 'packaging');
```