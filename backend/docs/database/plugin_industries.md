# ğŸ—‚ Table: plugin_industries

---

Î£Ï…Î½Î´Î­ÎµÎ¹ Î­Î½Î± plugin Î¼Îµ **Ï„Î¿Ï…Ï‚ ÎºÎ»Î¬Î´Î¿Ï…Ï‚ (industries)** ÏƒÏ„Î¿Ï…Ï‚ Î¿Ï€Î¿Î¯Î¿Ï…Ï‚ ÎµÎ¯Î½Î±Î¹ ÏƒÏ‡ÎµÏ„Î¹ÎºÏŒ Î® Î³Î¹Î± Ï„Î¿Ï…Ï‚ Î¿Ï€Î¿Î¯Î¿Ï…Ï‚ Î­Ï‡ÎµÎ¹ ÏƒÏ‡ÎµÎ´Î¹Î±ÏƒÏ„ÎµÎ¯.  
ÎˆÎ½Î± plugin Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î±Î½Î®ÎºÎµÎ¹ ÏƒÎµ Î­Î½Î±Î½ Î® Ï€Î¿Î»Î»Î¿ÏÏ‚ ÎºÎ»Î¬Î´Î¿Ï…Ï‚ Î® Î½Î± ÎµÎ¯Î½Î±Î¹ Î³ÎµÎ½Î¹ÎºÎ¿Ï Ï„ÏÏ€Î¿Ï… (Î¿Ï€ÏŒÏ„Îµ Î´ÎµÎ½ Î­Ï‡ÎµÎ¹ entries ÏƒÏ„Î¿Î½ Ï€Î¯Î½Î±ÎºÎ±).

ÎŸ Ï€Î¯Î½Î±ÎºÎ±Ï‚ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ Î±Ï€Î¿ÎºÎ»ÎµÎ¹ÏƒÏ„Î¹ÎºÎ¬ Î³Î¹Î± **recommendations, onboarding ÎºÎ±Î¹ classification**, ÏŒÏ‡Î¹ Î³Î¹Î± permissions Î® Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¹ÎºÏŒÏ„Î·Ï„Î±.

**Works with:**
- `plugins` â†’ Ï€Î¿Î¹Î¿ plugin ÏƒÏ…Î½Î´Î­ÎµÏ„Î±Î¹ Î¼Îµ Ï„Î¿Ï…Ï‚ ÎºÎ»Î¬Î´Î¿Ï…Ï‚
- `industries` â†’ ÏƒÎµ Ï€Î¿Î¹Î¿Ï…Ï‚ ÎºÎ»Î¬Î´Î¿Ï…Ï‚ ÎµÎ¯Î½Î±Î¹ Ï‡ÏÎ®ÏƒÎ¹Î¼Î¿ Î±Ï…Ï„ÏŒ Ï„Î¿ plugin
- `company_industries` (Î­Î¼Î¼ÎµÏƒÎ±) â†’ matching Î³Î¹Î± Î½Î± Ï€ÏÎ¿Ï„ÎµÎ¯Î½Î¿Î½Ï„Î±Î¹ plugins Î±Î½Î¬ ÎµÏ„Î±Î¹ÏÎµÎ¯Î±
- `plugin_industry_recommendations` â†’ Î²Î¿Î·Î¸Î¬ÎµÎ¹ ÏƒÏ„Î¿ recommendation engine Î³Î¹Î± onboarding ÎºÎ±Î¹ upselling

Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ Î³Î¹Î±:
- ÎµÎ¼Ï†Î¬Î½Î¹ÏƒÎ· recommended plugins ÎºÎ±Ï„Î¬ Ï„Î¿ onboarding,
- filtering plugins ÏƒÏ„Î¿ marketplace Î±Î½Î¬ industry,
- Ï€ÏÎ¿ÏƒÎ±ÏÎ¼Î¿Î³Î® UI Î® Ï€ÎµÏÎ¹ÎµÏ‡Î¿Î¼Î­Î½Î¿Ï… Î±Î½Î¬ ÎºÎ¬Î¸ÎµÏ„Î¿ ÎºÎ»Î¬Î´Î¿,
- Ï„Î±Î¾Î¹Î½ÏŒÎ¼Î·ÏƒÎ· ÎºÎ±Î¹ Î¿ÏÎ³Î¬Î½Ï‰ÏƒÎ· plugins ÏƒÏ„Î¿ backend.

Plugins Ï€Î¿Ï… ÎµÎ¯Î½Î±Î¹ â€œÎ³ÎµÎ½Î¹ÎºÎ®Ï‚ Ï‡ÏÎ®ÏƒÎ·Ï‚â€ **Î´ÎµÎ½ Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏ„Î±Î¹ Î½Î± ÎµÎ¼Ï†Î±Î½Î¯Î¶Î¿Î½Ï„Î±Î¹ ÎµÎ´Ï**.

---

## ğŸ“Œ 1. Fields Definition

| Field | Type | Null | Default | Description |
|--------|---------|------|----------|-------------|
| id (PK) | UUID | NOT NULL | gen_random_uuid() | Unique identifier for pluginâ€“industry relation |
| plugin_key (FK) | TEXT | NOT NULL | â€” | References plugins(key). Plugin identifier |
| industry_id (FK) | UUID | NOT NULL | â€” | References industries(id) |
| priority | INT | NOT NULL | 100 | Priority for recommending plugins to this industry (lower = higher) |
| created_at | TIMESTAMP | NOT NULL | NOW() | Creation timestamp |

---

## â„¹ï¸ Notes

âœ” 1. Î¤Î¹ ÎºÎ¬Î½ÎµÎ¹ Î±Ï…Ï„ÏŒÏ‚ Î¿ Ï€Î¯Î½Î±ÎºÎ±Ï‚;

Î£Ï…Î½Î´Î­ÎµÎ¹ plugins Î¼Îµ industries Î³Î¹Î±:
  - Onboarding recommendations
  (Ï€.Ï‡. ÏƒÎµ Ï€ÏÎ±Ï„Î®ÏÎ¹Î¿ â†’ Ï€ÏÎ¿Ï„ÎµÎ¯Î½ÎµÎ¹Ï‚ fuel station + POS)
  - Marketplace filtering
  (Ï€.Ï‡. "Plugins Î³Î¹Î± Ï„Î¿Î½ ÎºÎ»Î¬Î´Î¿ Î•ÏƒÏ„Î¯Î±ÏƒÎ·Ï‚")
  - Dynamic UI personalization

âœ” 2. Î“Î¹Î±Ï„Î¯ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ Ï„Î¿ priority;

Î“Î¹Î± Î½Î± ÎºÎ±Î¸Î¿ÏÎ¯Î¶ÎµÏ„Î±Î¹ Î· ÏƒÎµÎ¹ÏÎ¬ ÎµÎ¼Ï†Î¬Î½Î¹ÏƒÎ·Ï‚:
  - Î§Î±Î¼Î·Î»ÏŒÏ„ÎµÏÎ¿ Î½Î¿ÏÎ¼ÎµÏÎ¿ = Î¥ÏˆÎ·Î»ÏŒÏ„ÎµÏÎ· ÏƒÏÏƒÏ„Î±ÏƒÎ·
  - Î•Ï€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ Î½Î± Î²Î¬Î»ÎµÎ¹Ï‚ featured plugins Î±Î½Î¬ industry
  - Î§ÏÎ®ÏƒÎ¹Î¼Î¿ ÏƒÏ„Î¿ onboarding wizard

Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±:

| priority	| meaning |
| --- | --- |
| 10 |	must-have Î³Î¹Î± Ï„Î¿Î½ ÎºÎ»Î¬Î´Î¿ |
| 20 |	should-have |
| 100 |	optional |

âœ” 3. Î¤Î¹ ÏƒÏ…Î¼Î²Î±Î¯Î½ÎµÎ¹ Î¼Îµ Ï€ÏÏŒÏƒÎ¸ÎµÏ„Î± global plugins;

Plugins Ï€Î¿Ï… Î¹ÏƒÏ‡ÏÎ¿Ï…Î½ Î³Î¹Î± ÏŒÎ»Î± Ï„Î± industries:
  - Î´ÎµÎ½ Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏ„Î±Î¹ Î½Î± Î¼Ï€Î¿Ï…Î½ ÏƒÏ„Î¿Î½ Ï€Î¯Î½Î±ÎºÎ±
  - Ï€ÏÎ¿Ï„ÎµÎ¯Î½Î¿Î½Ï„Î±Î¹ ÏƒÎµ ÏŒÎ»Î¿Ï…Ï‚
  - Î® ÎµÎ¼Ï†Î±Î½Î¯Î¶Î¿Î½Ï„Î±Î¹ ÏƒÏ„Î· Î³ÎµÎ½Î¹ÎºÎ® ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î± â€œAvailable pluginsâ€

âœ” 4. Î“Î¹Î±Ï„Î¯ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î¿ÏÎ¼Îµ plugin_key ÎºÎ±Î¹ ÏŒÏ‡Î¹ plugin_id;

Î•Ï€ÎµÎ¹Î´Î®:
  - Ï„Î¿ plugin_key ÎµÎ¯Î½Î±Î¹ ÏƒÏ„Î±Î¸ÎµÏÏŒ
  - Î´ÎµÎ½ Î±Î»Î»Î¬Î¶ÎµÎ¹ Ï€Î¿Ï„Î­
  - Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ ÎºÎ±Î¹ Î±Ï€ÏŒ third-party developers
  - ÎµÎ¯Î½Î±Î¹ Î¿ Î¼Î¿Î½Î±Î´Î¹ÎºÏŒÏ‚ "namespace" Ï„Î¿Ï… plugin

Î¤Î¿ plugin_id Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î±Î»Î»Î¬Î¾ÎµÎ¹ ÏƒÎµ migrations, imports, Îº.Î»Ï€.

âœ” 5. Î ÏÎ­Ï€ÎµÎ¹ ÏŒÎ»Î± Ï„Î± plugins Î½Î± Î­Ï‡Î¿Ï…Î½ industry mapping;

ÎŒÏ‡Î¹.

  - Plugins ÎµÎ¹Î´Î¹ÎºÎ¬ Î³Î¹Î± ÎºÎ»Î¬Î´Î¿ â†’ Ï€ÏÎ­Ï€ÎµÎ¹
  - Plugins Î³ÎµÎ½Î¹ÎºÎ®Ï‚ Ï‡ÏÎ®ÏƒÎ·Ï‚ â†’ ÏŒÏ‡Î¹
  - Plugins B2B custom â†’ optional

Î‘Î½ Î´ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ row â†’ Î¸ÎµÏ‰ÏÎµÎ¯Ï„Î±Î¹ global plugin.

---

## ğŸ“Œ 2. Example Rows

| id     | plugin_key   | industry_id     | priority | created_at          |
| ------ | ------------ | --------------- | -------- | ------------------- |
| pi-001 | gas_station | ind-gas-001     | 10       | 2025-01-01 10:00:00 |
| pi-002 | pos          | ind-gas-001     | 20       | 2025-01-01 10:00:01 |
| pi-003 | pos          | ind-mini-001    | 10       | 2025-01-01 10:00:02 |
| pi-004 | clothing     | ind-cloth-001   | 10       | 2025-01-01 10:00:03 |

---

## ğŸ“Œ 3. SQL: CREATE TABLE (Supabase)

```sql
CREATE TABLE plugin_industries (
  plugin_key TEXT NOT NULL REFERENCES plugins(key) ON DELETE CASCADE,
  industry_key TEXT NOT NULL REFERENCES industries(key) ON DELETE CASCADE,

  relevance_score INT NOT NULL DEFAULT 1,  -- optional (1â€“5)

  created_at TIMESTAMP NOT NULL DEFAULT NOW()

  PRIMARY KEY (plugin_key, industry_key)
);

CREATE UNIQUE INDEX plugin_industries_unique_pair
ON plugin_industries (plugin_key, industry_id);

CREATE INDEX idx_plugin_industries_plugin_key ON plugin_industries(plugin_key);
CREATE INDEX idx_plugin_industries_industry_id ON plugin_industries(industry_id);
```

---

## ğŸ“Œ 4. SQL: Insert Demo Data

```sql
INSERT INTO plugin_industries 
  (id, plugin_key, industry_id, priority)
VALUES
  -- Gas station recommended plugins
  (gen_random_uuid(), 'gas_station', '00000000-0000-0000-0000-GASSTATION001', 10),
  (gen_random_uuid(), 'pos',          '00000000-0000-0000-0000-GASSTATION001', 20),

  -- Mini market recommended plugins
  (gen_random_uuid(), 'pos',          '00000000-0000-0000-0000-MINIMARKET001', 10),

  -- Clothing recommended plugins
  (gen_random_uuid(), 'clothing',     '00000000-0000-0000-0000-CLOTHING00001', 10),

```